<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Your Ticket</title>
    <link rel="stylesheet" href="style2.css">
</head>
<body>

<header>
    <h1>Book Your <span style="color:white;">Ticket</span></h1>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contactUs.html">Contact Us</a></li>
            <li><a href="services.html">Services</a></li>
        </ul>
    </nav>
</header>
<div class="page-bg">
    <div class="content-card">
        <h2>Ticket Booking Form</h2>
        <form id="book-ticket">

            <div class="form-group">
                <label>Full Name:</label>
                <input type="text" id="full-name" required>
            </div>
        
            <div class="form-group">
                <label>Email:</label>
                <input type="email" id="email" required>
            </div>
        
            <div class="form-group">
                <label>From:</label>
                <input type="text" id="from" required>
            </div>
        
            <div class="form-group">
                <label>To:</label>
                <input type="text" id="to" required>
            </div>
        
            <div class="form-group">
                <label>Travel Date:</label>
                <input type="date" id="date" required>
            </div>
        
            <button type="submit" class="book-btn">Confirm Booking</button>
        
        </form>
        
       
    </div>
</div>



<footer>
    <p>Â© 2024 E Bus. All Rights Reserved.</p>
</footer>

<!-- <script>
document.getElementById("book-ticket").addEventListener("submit", function(e){
    e.preventDefault();
    alert("Your ticket has been booked successfully!");
});
</script> -->

<!-- <script>
    document.getElementById("book-ticket").addEventListener("submit", function(e){
        e.preventDefault();
    
        const bookingData = {
            fullName: document.getElementById("full-name").value,
            email: document.getElementById("email").value,
            from: document.getElementById("from").value,
            to: document.getElementById("to").value,
            date: document.getElementById("date").value
        };
    
        // GET old bookings from localStorage
        let bookings = JSON.parse(localStorage.getItem("bookings")) || [];
    
        // ADD new booking
        bookings.push(bookingData);
    
        // SAVE back to localStorage
        localStorage.setItem("bookings", JSON.stringify(bookings));
    
        alert("Your ticket has been booked!");
    
        document.getElementById("book-ticket").reset();
    });
    </script> -->

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";
  
    const firebaseConfig = {
      apiKey: "AIzaSyBXVTztSr5ql5w-uUKbOEI6sQIqil59AHA",
      authDomain: "ebuspro-c8fd8.firebaseapp.com",
      databaseURL: "https://ebuspro-c8fd8-default-rtdb.firebaseio.com/",
      projectId: "ebuspro-c8fd8",
      storageBucket: "ebuspro-c8fd8.appspot.com",
      messagingSenderId: "672419463134",
      appId: "1:672419463134:web:4ef526947b3963024f674f"
    };
  
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
  
    document.getElementById("book-ticket").addEventListener("submit", function(e) {
      e.preventDefault();
  
      const fullName = document.getElementById("full-name").value.trim();
      const email = document.getElementById("email").value.trim();
      const from = document.getElementById("from").value.trim();
      const to = document.getElementById("to").value.trim();
      const travelDate = document.getElementById("date").value;
  
      if (!fullName || !email || !from || !to || !travelDate) {
        alert("Please fill every field.");
        return;
      }
  
      const bookingsRef = ref(db, "bookings");
      const newBooking = push(bookingsRef);
  
      set(newBooking, {
        fullName: fullName,
        email: email,
        from: from,
        to: to,
        travelDate: travelDate,
        timestamp: new Date().toString()
      })
      .then(() => alert("Booking Saved Successfully!"))
      .catch((error) => alert("Error: " + error));
    });
  </script>
  
    
        

</body>
</html>
